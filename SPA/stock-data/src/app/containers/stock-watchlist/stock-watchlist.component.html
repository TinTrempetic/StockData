<p-table
  [value]="watchlistItems$ | async"
  [lazy]="true"
  [totalRecords]="totalRows"
  [rows]="5"
  [paginator]="true"
  (onLazyLoad)="loadItems($event)"
  class="watchlist-table"
>
  <ng-template pTemplate="header">
    <tr>
      <th pSortableColumn="symbol">
        Symbol <p-sortIcon field="symbol"></p-sortIcon>
      </th>
      <th>Price</th>
      <th>Change</th>
      <th>DayHighPrice</th>
      <th>DayLowPrice</th>
      <th>Actions</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-item>
    <tr class="table-row">
      <td>{{ item.symbol }}</td>
      <td>{{ item.currentPrice }}</td>
      <td [class]="getChangeColor(item.percentChange)">
        {{ item.percentChange }} %
      </td>
      <td>{{ item.dayHighPrice }}</td>
      <td>{{ item.dayLowPrice }}</td>
      <td>Actions for id: {{ item.id }}</td>
    </tr>
  </ng-template>
  <ng-template pTemplate="emptymessage">
    <tr>
      <td [attr.colspan]="6">
        <ng-container *ngIf="isAuth$ | async; else elseTemplate">
          <div class="empty-message-text">
            <h1>No items added to your watchlist.</h1>
          </div>
        </ng-container>
        <ng-template #elseTemplate>
          <div class="empty-message-text">
            <h1>Login to view and add items to your watchlist.</h1>
          </div>
        </ng-template>
      </td>
    </tr>
  </ng-template>
</p-table>
